using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;


public class CharacterSelect : MonoBehaviour{

    public GameObject[] skins;
    public int selectedCharacter;

    public void Start()
    {
        selectedCharacter = PlayerPrefs.GetInt("SelectedCharacterForWorld", 0);
        Debug.Log("Selected character: "+selectedCharacter);
    }

    private void Awake(){

        selectedCharacter = PlayerPrefs.GetInt("SelectedCharacter",0);
        foreach(GameObject player in skins)
            player.SetActive(false);

            skins[selectedCharacter].SetActive(true);
    }

    public void Next(){

        skins[selectedCharacter].SetActive(false);
        selectedCharacter++;

        if(selectedCharacter >= skins.Length)
            selectedCharacter = 0;


        skins[selectedCharacter].SetActive(true);
        PlayerPrefs.SetInt("SelectedCharacter", selectedCharacter);
        
        Debug.Log("Selected character: "+selectedCharacter);
    }



    
    public void Prev(){

        skins[selectedCharacter].SetActive(false);
        selectedCharacter--;

        if(selectedCharacter == -1)
            selectedCharacter = skins.Length -1;


        skins[selectedCharacter].SetActive(true);
        PlayerPrefs.SetInt("SelectedCharacter", selectedCharacter);
        
        Debug.Log("Selected character: "+selectedCharacter);
    }

     public void Play()
    {
        // Save the selected character information to be retrieved in the "World" scene
        PlayerPrefs.SetInt("SelectedCharacterForWorld", selectedCharacter);

        // Load the "World" scene
        SceneManager.LoadScene("World");
    }
}
    